{"ast":null,"code":"'use strict';\n\nimport { useRef } from 'react';\nimport { makeMutable } from './core';\nimport { shouldBeUseWeb } from './PlatformChecker';\nconst _worklet_4365650429626_init_data = {\n  code: \"function anonymous(descriptors){const{item}=this.__closure;const index=descriptors.findIndex(function(descriptor){return descriptor.tag===item.tag;});if(index!==-1){descriptors[index]=item;}else{descriptors.push(item);}return descriptors;}\",\n  location: \"/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-reanimated/lib/module/reanimated2/ViewDescriptorsSet.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"descriptors\\\",\\\"item\\\",\\\"__closure\\\",\\\"index\\\",\\\"findIndex\\\",\\\"descriptor\\\",\\\"tag\\\",\\\"push\\\"],\\\"sources\\\":[\\\"/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-reanimated/lib/module/reanimated2/ViewDescriptorsSet.js\\\"],\\\"mappings\\\":\\\"AAUsC,SAAAA,UAAAC,WAAe,QAAAC,IAAA,OAAAC,SAAA,CAG7C,KAAM,CAAAC,KAAK,CAAGH,WAAW,CAACI,SAAS,CAAC,SAAAC,UAAU,QAAI,CAAAA,UAAU,CAACC,GAAG,GAAKL,IAAI,CAACK,GAAG,GAAC,CAC9E,GAAIH,KAAK,GAAK,CAAC,CAAC,CAAE,CAChBH,WAAW,CAACG,KAAK,CAAC,CAAGF,IAAI,CAC3B,CAAC,IAAM,CACLD,WAAW,CAACO,IAAI,CAACN,IAAI,CAAC,CACxB,CACA,MAAO,CAAAD,WAAW,CACpB\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.10.1\"\n};\nconst _worklet_6739515972732_init_data = {\n  code: \"function anonymous(descriptors){const{viewTag}=this.__closure;const index=descriptors.findIndex(function(descriptor){return descriptor.tag===viewTag;});if(index!==-1){descriptors.splice(index,1);}return descriptors;}\",\n  location: \"/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-reanimated/lib/module/reanimated2/ViewDescriptorsSet.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"descriptors\\\",\\\"viewTag\\\",\\\"__closure\\\",\\\"index\\\",\\\"findIndex\\\",\\\"descriptor\\\",\\\"tag\\\",\\\"splice\\\"],\\\"sources\\\":[\\\"/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-reanimated/lib/module/reanimated2/ViewDescriptorsSet.js\\\"],\\\"mappings\\\":\\\"AAuBsC,SAAAA,UAAAC,WAAe,QAAAC,OAAA,OAAAC,SAAA,CAG7C,KAAM,CAAAC,KAAK,CAAGH,WAAW,CAACI,SAAS,CAAC,SAAAC,UAAU,QAAI,CAAAA,UAAU,CAACC,GAAG,GAAKL,OAAO,GAAC,CAC7E,GAAIE,KAAK,GAAK,CAAC,CAAC,CAAE,CAChBH,WAAW,CAACO,MAAM,CAACJ,KAAK,CAAE,CAAC,CAAC,CAC9B,CACA,MAAO,CAAAH,WAAW,CACpB\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.10.1\"\n};\nexport function makeViewDescriptorsSet() {\n  const shareableViewDescriptors = makeMutable([]);\n  const data = {\n    shareableViewDescriptors,\n    add: item => {\n      shareableViewDescriptors.modify(function () {\n        const _e = [new global.Error(), -2, -27];\n        const anonymous = function (descriptors) {\n          const index = descriptors.findIndex(descriptor => descriptor.tag === item.tag);\n          if (index !== -1) {\n            descriptors[index] = item;\n          } else {\n            descriptors.push(item);\n          }\n          return descriptors;\n        };\n        anonymous.__closure = {\n          item\n        };\n        anonymous.__workletHash = 4365650429626;\n        anonymous.__initData = _worklet_4365650429626_init_data;\n        anonymous.__stackDetails = _e;\n        return anonymous;\n      }(), false);\n    },\n    remove: viewTag => {\n      shareableViewDescriptors.modify(function () {\n        const _e = [new global.Error(), -2, -27];\n        const anonymous = function (descriptors) {\n          const index = descriptors.findIndex(descriptor => descriptor.tag === viewTag);\n          if (index !== -1) {\n            descriptors.splice(index, 1);\n          }\n          return descriptors;\n        };\n        anonymous.__closure = {\n          viewTag\n        };\n        anonymous.__workletHash = 6739515972732;\n        anonymous.__initData = _worklet_6739515972732_init_data;\n        anonymous.__stackDetails = _e;\n        return anonymous;\n      }(), false);\n    }\n  };\n  return data;\n}\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\nexport const useViewRefSet = SHOULD_BE_USE_WEB ? useViewRefSetJS : useViewRefSetNative;\nfunction useViewRefSetNative() {\n  return undefined;\n}\nfunction useViewRefSetJS() {\n  const ref = useRef(null);\n  if (ref.current === null) {\n    const data = {\n      items: new Set(),\n      add: item => {\n        if (data.items.has(item)) return;\n        data.items.add(item);\n      },\n      remove: item => {\n        data.items.delete(item);\n      }\n    };\n    ref.current = data;\n  }\n  return ref.current;\n}","map":{"version":3,"names":["useRef","makeMutable","shouldBeUseWeb","_worklet_4365650429626_init_data","code","location","sourceMap","version","_worklet_6739515972732_init_data","makeViewDescriptorsSet","shareableViewDescriptors","data","add","item","modify","_e","global","Error","anonymous","descriptors","index","findIndex","descriptor","tag","push","__closure","__workletHash","__initData","__stackDetails","remove","viewTag","splice","SHOULD_BE_USE_WEB","useViewRefSet","useViewRefSetJS","useViewRefSetNative","undefined","ref","current","items","Set","has","delete"],"sources":["/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-reanimated/lib/module/reanimated2/ViewDescriptorsSet.ts"],"sourcesContent":["'use strict';\nimport { useRef } from 'react';\nimport { makeMutable } from './core';\nimport type { SharedValue } from './commonTypes';\nimport type { Descriptor } from './hook/commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\n\nexport interface ViewRefSet<T> {\n  items: Set<T>;\n  add: (item: T) => void;\n  remove: (item: T) => void;\n}\n\nexport interface ViewDescriptorsSet {\n  shareableViewDescriptors: SharedValue<Descriptor[]>;\n  add: (item: Descriptor) => void;\n  remove: (viewTag: number) => void;\n}\n\nexport function makeViewDescriptorsSet(): ViewDescriptorsSet {\n  const shareableViewDescriptors = makeMutable<Descriptor[]>([]);\n  const data: ViewDescriptorsSet = {\n    shareableViewDescriptors,\n    add: (item: Descriptor) => {\n      shareableViewDescriptors.modify((descriptors) => {\n        'worklet';\n        const index = descriptors.findIndex(\n          (descriptor) => descriptor.tag === item.tag\n        );\n        if (index !== -1) {\n          descriptors[index] = item;\n        } else {\n          descriptors.push(item);\n        }\n        return descriptors;\n      }, false);\n    },\n\n    remove: (viewTag: number) => {\n      shareableViewDescriptors.modify((descriptors) => {\n        'worklet';\n        const index = descriptors.findIndex(\n          (descriptor) => descriptor.tag === viewTag\n        );\n        if (index !== -1) {\n          descriptors.splice(index, 1);\n        }\n        return descriptors;\n      }, false);\n    },\n  };\n  return data;\n}\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport const useViewRefSet = SHOULD_BE_USE_WEB\n  ? useViewRefSetJS\n  : useViewRefSetNative;\n\nfunction useViewRefSetNative() {\n  // Stub native implementation.\n  return undefined;\n}\n\nfunction useViewRefSetJS<T>(): ViewRefSet<T> {\n  const ref = useRef<ViewRefSet<T> | null>(null);\n  if (ref.current === null) {\n    const data: ViewRefSet<T> = {\n      items: new Set(),\n\n      add: (item: T) => {\n        if (data.items.has(item)) return;\n        data.items.add(item);\n      },\n\n      remove: (item: T) => {\n        data.items.delete(item);\n      },\n    };\n    ref.current = data;\n  }\n\n  return ref.current;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}