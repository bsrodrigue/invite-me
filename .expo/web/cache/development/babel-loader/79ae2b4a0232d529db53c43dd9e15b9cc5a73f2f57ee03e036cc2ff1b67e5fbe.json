{"ast":null,"code":"import React from 'react';\nimport { useLogger } from './contexts';\nimport { useTimeout } from './hooks';\nimport { noop } from './utils/func';\nimport { mergeIfDefined } from './utils/obj';\nexport const DEFAULT_DATA = {\n  text1: undefined,\n  text2: undefined\n};\nexport const DEFAULT_OPTIONS = {\n  type: 'success',\n  text1Style: null,\n  text2Style: null,\n  position: 'top',\n  autoHide: true,\n  swipeable: true,\n  visibilityTime: 4000,\n  topOffset: 40,\n  bottomOffset: 40,\n  keyboardOffset: 10,\n  onShow: noop,\n  onHide: noop,\n  onPress: noop,\n  props: {}\n};\nexport function useToast({\n  defaultOptions\n}) {\n  const {\n    log\n  } = useLogger();\n  const [isVisible, setIsVisible] = React.useState(false);\n  const [data, setData] = React.useState(DEFAULT_DATA);\n  const initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\n  const [options, setOptions] = React.useState(initialOptions);\n  const onAutoHide = React.useCallback(() => {\n    log('Auto hiding');\n    setIsVisible(false);\n    options.onHide();\n  }, [log, options]);\n  const {\n    startTimer,\n    clearTimer\n  } = useTimeout(onAutoHide, options.visibilityTime);\n  const hide = React.useCallback(() => {\n    log('Hiding');\n    setIsVisible(false);\n    clearTimer();\n    options.onHide();\n  }, [clearTimer, log, options]);\n  const show = React.useCallback(params => {\n    log(`Showing with params: ${JSON.stringify(params)}`);\n    const {\n      text1 = DEFAULT_DATA.text1,\n      text2 = DEFAULT_DATA.text2,\n      type = initialOptions.type,\n      text1Style = initialOptions.text1Style,\n      text2Style = initialOptions.text2Style,\n      position = initialOptions.position,\n      autoHide = initialOptions.autoHide,\n      visibilityTime = initialOptions.visibilityTime,\n      topOffset = initialOptions.topOffset,\n      bottomOffset = initialOptions.bottomOffset,\n      keyboardOffset = initialOptions.keyboardOffset,\n      onShow = initialOptions.onShow,\n      onHide = initialOptions.onHide,\n      onPress = initialOptions.onPress,\n      swipeable = initialOptions.swipeable,\n      props = initialOptions.props\n    } = params;\n    setData({\n      text1,\n      text2\n    });\n    setOptions(mergeIfDefined(initialOptions, {\n      type,\n      text1Style,\n      text2Style,\n      position,\n      autoHide,\n      visibilityTime,\n      topOffset,\n      bottomOffset,\n      keyboardOffset,\n      onShow,\n      onHide,\n      onPress,\n      swipeable,\n      props\n    }));\n    setIsVisible(true);\n    onShow();\n  }, [initialOptions, log]);\n  React.useEffect(() => {\n    const {\n      autoHide\n    } = options;\n    if (isVisible) {\n      if (autoHide) {\n        startTimer();\n      } else {\n        clearTimer();\n      }\n    }\n  }, [isVisible, options, startTimer, clearTimer]);\n  return {\n    isVisible,\n    data,\n    options,\n    show,\n    hide\n  };\n}","map":{"version":3,"names":["React","useLogger","useTimeout","noop","mergeIfDefined","DEFAULT_DATA","text1","undefined","text2","DEFAULT_OPTIONS","type","text1Style","text2Style","position","autoHide","swipeable","visibilityTime","topOffset","bottomOffset","keyboardOffset","onShow","onHide","onPress","props","useToast","defaultOptions","log","isVisible","setIsVisible","useState","data","setData","initialOptions","options","setOptions","onAutoHide","useCallback","startTimer","clearTimer","hide","show","params","JSON","stringify","useEffect"],"sources":["/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native-toast-message/lib/src/useToast.js"],"sourcesContent":["import React from 'react';\nimport { useLogger } from './contexts';\nimport { useTimeout } from './hooks';\nimport { noop } from './utils/func';\nimport { mergeIfDefined } from './utils/obj';\nexport const DEFAULT_DATA = {\n    text1: undefined,\n    text2: undefined\n};\nexport const DEFAULT_OPTIONS = {\n    type: 'success',\n    text1Style: null,\n    text2Style: null,\n    position: 'top',\n    autoHide: true,\n    swipeable: true,\n    visibilityTime: 4000,\n    topOffset: 40,\n    bottomOffset: 40,\n    keyboardOffset: 10,\n    onShow: noop,\n    onHide: noop,\n    onPress: noop,\n    props: {}\n};\nexport function useToast({ defaultOptions }) {\n    const { log } = useLogger();\n    const [isVisible, setIsVisible] = React.useState(false);\n    const [data, setData] = React.useState(DEFAULT_DATA);\n    const initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\n    const [options, setOptions] = React.useState(initialOptions);\n    const onAutoHide = React.useCallback(() => {\n        log('Auto hiding');\n        setIsVisible(false);\n        options.onHide();\n    }, [log, options]);\n    const { startTimer, clearTimer } = useTimeout(onAutoHide, options.visibilityTime);\n    const hide = React.useCallback(() => {\n        log('Hiding');\n        setIsVisible(false);\n        clearTimer();\n        options.onHide();\n    }, [clearTimer, log, options]);\n    const show = React.useCallback((params) => {\n        log(`Showing with params: ${JSON.stringify(params)}`);\n        const { text1 = DEFAULT_DATA.text1, text2 = DEFAULT_DATA.text2, type = initialOptions.type, text1Style = initialOptions.text1Style, text2Style = initialOptions.text2Style, position = initialOptions.position, autoHide = initialOptions.autoHide, visibilityTime = initialOptions.visibilityTime, topOffset = initialOptions.topOffset, bottomOffset = initialOptions.bottomOffset, keyboardOffset = initialOptions.keyboardOffset, onShow = initialOptions.onShow, onHide = initialOptions.onHide, onPress = initialOptions.onPress, swipeable = initialOptions.swipeable, props = initialOptions.props } = params;\n        setData({\n            text1,\n            text2\n        });\n        setOptions(mergeIfDefined(initialOptions, {\n            type,\n            text1Style,\n            text2Style,\n            position,\n            autoHide,\n            visibilityTime,\n            topOffset,\n            bottomOffset,\n            keyboardOffset,\n            onShow,\n            onHide,\n            onPress,\n            swipeable,\n            props\n        }));\n        // TODO: validate input\n        // TODO: use a queue when Toast is already visible\n        setIsVisible(true);\n        onShow();\n    }, [initialOptions, log]);\n    React.useEffect(() => {\n        const { autoHide } = options;\n        if (isVisible) {\n            if (autoHide) {\n                startTimer();\n            }\n            else {\n                clearTimer();\n            }\n        }\n    }, [isVisible, options, startTimer, clearTimer]);\n    return {\n        isVisible,\n        data,\n        options,\n        show,\n        hide\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}