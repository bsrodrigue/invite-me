{"ast":null,"code":"import TextInputState from '../../Components/TextInput/TextInputState';\nimport { getNodeFromInternalInstanceHandle } from '../../Renderer/shims/ReactFabric';\nimport { getFabricUIManager } from '../FabricUIManager';\nimport { create } from './ReactNativeAttributePayload';\nimport warnForStyleProps from './warnForStyleProps';\nimport nullthrows from 'nullthrows';\nconst {\n  measure: fabricMeasure,\n  measureInWindow: fabricMeasureInWindow,\n  measureLayout: fabricMeasureLayout,\n  getBoundingClientRect: fabricGetBoundingClientRect,\n  setNativeProps\n} = nullthrows(getFabricUIManager());\nconst noop = () => {};\nexport default class ReactFabricHostComponent {\n  constructor(tag, viewConfig, internalInstanceHandle) {\n    this.__nativeTag = tag;\n    this._viewConfig = viewConfig;\n    this.__internalInstanceHandle = internalInstanceHandle;\n  }\n  blur() {\n    TextInputState.blurTextInput(this);\n  }\n  focus() {\n    TextInputState.focusTextInput(this);\n  }\n  measure(callback) {\n    const node = getNodeFromInternalInstanceHandle(this.__internalInstanceHandle);\n    if (node != null) {\n      fabricMeasure(node, callback);\n    }\n  }\n  measureInWindow(callback) {\n    const node = getNodeFromInternalInstanceHandle(this.__internalInstanceHandle);\n    if (node != null) {\n      fabricMeasureInWindow(node, callback);\n    }\n  }\n  measureLayout(relativeToNativeNode, onSuccess, onFail) {\n    if (typeof relativeToNativeNode === 'number' || !(relativeToNativeNode instanceof ReactFabricHostComponent)) {\n      if (__DEV__) {\n        console.error('Warning: ref.measureLayout must be called with a ref to a native component.');\n      }\n      return;\n    }\n    const toStateNode = getNodeFromInternalInstanceHandle(this.__internalInstanceHandle);\n    const fromStateNode = getNodeFromInternalInstanceHandle(relativeToNativeNode.__internalInstanceHandle);\n    if (toStateNode != null && fromStateNode != null) {\n      fabricMeasureLayout(toStateNode, fromStateNode, onFail != null ? onFail : noop, onSuccess != null ? onSuccess : noop);\n    }\n  }\n  unstable_getBoundingClientRect() {\n    const node = getNodeFromInternalInstanceHandle(this.__internalInstanceHandle);\n    if (node != null) {\n      const rect = fabricGetBoundingClientRect(node, true);\n      if (rect) {\n        return new DOMRect(rect[0], rect[1], rect[2], rect[3]);\n      }\n    }\n    return new DOMRect(0, 0, 0, 0);\n  }\n  setNativeProps(nativeProps) {\n    if (__DEV__) {\n      warnForStyleProps(nativeProps, this._viewConfig.validAttributes);\n    }\n    const updatePayload = create(nativeProps, this._viewConfig.validAttributes);\n    const node = getNodeFromInternalInstanceHandle(this.__internalInstanceHandle);\n    if (node != null && updatePayload != null) {\n      setNativeProps(node, updatePayload);\n    }\n  }\n}","map":{"version":3,"names":["TextInputState","getNodeFromInternalInstanceHandle","getFabricUIManager","create","warnForStyleProps","nullthrows","measure","fabricMeasure","measureInWindow","fabricMeasureInWindow","measureLayout","fabricMeasureLayout","getBoundingClientRect","fabricGetBoundingClientRect","setNativeProps","noop","ReactFabricHostComponent","constructor","tag","viewConfig","internalInstanceHandle","__nativeTag","_viewConfig","__internalInstanceHandle","blur","blurTextInput","focus","focusTextInput","callback","node","relativeToNativeNode","onSuccess","onFail","__DEV__","console","error","toStateNode","fromStateNode","unstable_getBoundingClientRect","rect","DOMRect","nativeProps","validAttributes","updatePayload"],"sources":["/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native/Libraries/ReactNative/ReactFabricPublicInstance/ReactFabricHostComponent.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport type {\n  HostComponent,\n  INativeMethods,\n  InternalInstanceHandle,\n  MeasureInWindowOnSuccessCallback,\n  MeasureLayoutOnSuccessCallback,\n  MeasureOnSuccessCallback,\n  ViewConfig,\n} from '../../Renderer/shims/ReactNativeTypes';\nimport type {ElementRef} from 'react';\n\nimport TextInputState from '../../Components/TextInput/TextInputState';\nimport {getNodeFromInternalInstanceHandle} from '../../Renderer/shims/ReactFabric';\nimport {getFabricUIManager} from '../FabricUIManager';\nimport {create} from './ReactNativeAttributePayload';\nimport warnForStyleProps from './warnForStyleProps';\nimport nullthrows from 'nullthrows';\n\nconst {\n  measure: fabricMeasure,\n  measureInWindow: fabricMeasureInWindow,\n  measureLayout: fabricMeasureLayout,\n  getBoundingClientRect: fabricGetBoundingClientRect,\n  setNativeProps,\n} = nullthrows(getFabricUIManager());\n\nconst noop = () => {};\n\n/**\n * This is used for refs on host components.\n */\nexport default class ReactFabricHostComponent implements INativeMethods {\n  // These need to be accessible from `ReactFabricPublicInstanceUtils`.\n  __nativeTag: number;\n  __internalInstanceHandle: InternalInstanceHandle;\n\n  _viewConfig: ViewConfig;\n\n  constructor(\n    tag: number,\n    viewConfig: ViewConfig,\n    internalInstanceHandle: InternalInstanceHandle,\n  ) {\n    this.__nativeTag = tag;\n    this._viewConfig = viewConfig;\n    this.__internalInstanceHandle = internalInstanceHandle;\n  }\n\n  blur() {\n    // $FlowFixMe[incompatible-exact] Migrate all usages of `NativeMethods` to an interface to fix this.\n    TextInputState.blurTextInput(this);\n  }\n\n  focus() {\n    // $FlowFixMe[incompatible-exact] Migrate all usages of `NativeMethods` to an interface to fix this.\n    TextInputState.focusTextInput(this);\n  }\n\n  measure(callback: MeasureOnSuccessCallback) {\n    const node = getNodeFromInternalInstanceHandle(\n      this.__internalInstanceHandle,\n    );\n    if (node != null) {\n      fabricMeasure(node, callback);\n    }\n  }\n\n  measureInWindow(callback: MeasureInWindowOnSuccessCallback) {\n    const node = getNodeFromInternalInstanceHandle(\n      this.__internalInstanceHandle,\n    );\n    if (node != null) {\n      fabricMeasureInWindow(node, callback);\n    }\n  }\n\n  measureLayout(\n    relativeToNativeNode: number | ElementRef<HostComponent<mixed>>,\n    onSuccess: MeasureLayoutOnSuccessCallback,\n    onFail?: () => void /* currently unused */,\n  ) {\n    if (\n      typeof relativeToNativeNode === 'number' ||\n      !(relativeToNativeNode instanceof ReactFabricHostComponent)\n    ) {\n      if (__DEV__) {\n        console.error(\n          'Warning: ref.measureLayout must be called with a ref to a native component.',\n        );\n      }\n\n      return;\n    }\n\n    const toStateNode = getNodeFromInternalInstanceHandle(\n      this.__internalInstanceHandle,\n    );\n    const fromStateNode = getNodeFromInternalInstanceHandle(\n      relativeToNativeNode.__internalInstanceHandle,\n    );\n\n    if (toStateNode != null && fromStateNode != null) {\n      fabricMeasureLayout(\n        toStateNode,\n        fromStateNode,\n        onFail != null ? onFail : noop,\n        onSuccess != null ? onSuccess : noop,\n      );\n    }\n  }\n\n  unstable_getBoundingClientRect(): DOMRect {\n    const node = getNodeFromInternalInstanceHandle(\n      this.__internalInstanceHandle,\n    );\n    if (node != null) {\n      const rect = fabricGetBoundingClientRect(node, true);\n\n      if (rect) {\n        return new DOMRect(rect[0], rect[1], rect[2], rect[3]);\n      }\n    }\n\n    // Empty rect if any of the above failed\n    return new DOMRect(0, 0, 0, 0);\n  }\n\n  setNativeProps(nativeProps: {...}): void {\n    if (__DEV__) {\n      warnForStyleProps(nativeProps, this._viewConfig.validAttributes);\n    }\n    const updatePayload = create(nativeProps, this._viewConfig.validAttributes);\n\n    const node = getNodeFromInternalInstanceHandle(\n      this.__internalInstanceHandle,\n    );\n    if (node != null && updatePayload != null) {\n      setNativeProps(node, updatePayload);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}