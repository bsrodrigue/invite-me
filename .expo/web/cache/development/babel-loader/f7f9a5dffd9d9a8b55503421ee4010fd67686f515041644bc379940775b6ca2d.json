{"ast":null,"code":"var _jsxFileName = \"/home/rodo/workspace/passion/apps/muh-money/src/components/EditTransactionForm/EditTransactionForm.tsx\";\nimport { Icon, useTheme } from '@rneui/themed';\nimport View from \"react-native-web/dist/exports/View\";\nimport { ExpandingView } from '../ExpandingView';\nimport { Row } from '../Row';\nimport { ToggleButton } from '../ToggleButton';\nimport { TextInput } from '../Input';\nimport { Button } from '../Button';\nimport { useEffect, useState } from 'react';\nimport { useSharedValue, withSpring } from 'react-native-reanimated';\nimport { Selector } from '../Selector';\nimport { useCategoryStore } from '../../stores';\nimport { Text } from '../Text';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditTransactionForm({\n  transaction,\n  onEdit,\n  onDelete\n}) {\n  const {\n    theme: {\n      colors: {\n        error,\n        black,\n        greyOutline\n      }\n    }\n  } = useTheme();\n  const [optionsIsActive, setOptionsIsActive] = useState(false);\n  const [title, setTitle] = useState(transaction.title);\n  const [amount, setAmount] = useState(transaction.amount.toString());\n  const [categoryId, setCategoryId] = useState(transaction.categoryId);\n  const {\n    items: categories\n  } = useCategoryStore();\n  const height = useSharedValue(10);\n  const onSubmit = () => {\n    const data = Object.assign(transaction, {\n      title,\n      amount: parseFloat(amount),\n      categoryId\n    });\n    onEdit(data);\n  };\n  useEffect(() => {\n    height.value = withSpring(optionsIsActive ? 30 : 10);\n  }, [optionsIsActive]);\n  return _jsxDEV(ExpandingView, {\n    style: {\n      paddingHorizontal: 10\n    },\n    children: [_jsxDEV(Row, {\n      style: {\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: 5\n      },\n      children: [_jsxDEV(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18\n        },\n        children: \"Edit Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), _jsxDEV(ToggleButton, {\n        onChange: active => setOptionsIsActive(active)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      label: `${transaction.type} name`,\n      defaultValue: transaction.title,\n      onChangeText: setTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), _jsxDEV(Selector, {\n      label: \"Category\",\n      defaultValue: categories.find(cat => cat.uuid === categoryId).title,\n      options: categories.map(category => category.title),\n      onChange: index => setCategoryId(categories[index].uuid),\n      OptionComponent: optionTitle => {\n        const option = categories.find(item => item.title === optionTitle);\n        return _jsxDEV(Row, {\n          style: {\n            alignItems: \"center\",\n            gap: 10\n          },\n          children: [_jsxDEV(View, {\n            style: {\n              aspectRatio: 1,\n              borderRadius: 50,\n              borderColor: greyOutline,\n              borderWidth: 1,\n              padding: 5\n            },\n            children: _jsxDEV(Icon, {\n              size: 14,\n              name: option.iconName,\n              type: option.iconFamily,\n              color: option.color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            weight: \"700\",\n            children: option.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      label: `Budget Limit`,\n      keyboardType: \"numeric\",\n      defaultValue: amount,\n      onChangeText: setAmount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), optionsIsActive && _jsxDEV(View, {\n      style: {\n        marginVertical: 10\n      },\n      children: [_jsxDEV(Button, {\n        onPress: () => onDelete(transaction.uuid),\n        color: error,\n        titleStyle: {\n          color: black,\n          opacity: 0.5,\n          fontWeight: \"bold\"\n        },\n        children: \"Delete Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), _jsxDEV(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 12,\n          color: error,\n          marginTop: 5\n        },\n        children: \"Warning: Deleting your transaction is irreversible\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this), _jsxDEV(Button, {\n      title: \"Submit\",\n      onPress: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["Icon","useTheme","View","ExpandingView","Row","ToggleButton","TextInput","Button","useEffect","useState","useSharedValue","withSpring","Selector","useCategoryStore","Text","jsxDEV","_jsxDEV","EditTransactionForm","transaction","onEdit","onDelete","theme","colors","error","black","greyOutline","optionsIsActive","setOptionsIsActive","title","setTitle","amount","setAmount","toString","categoryId","setCategoryId","items","categories","height","onSubmit","data","Object","assign","parseFloat","value","style","paddingHorizontal","children","justifyContent","alignItems","marginBottom","fontWeight","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","onChange","active","label","type","defaultValue","onChangeText","find","cat","uuid","options","map","category","index","OptionComponent","optionTitle","option","item","gap","aspectRatio","borderRadius","borderColor","borderWidth","padding","size","name","iconName","iconFamily","color","weight","keyboardType","marginVertical","onPress","titleStyle","opacity","marginTop"],"sources":["/home/rodo/workspace/passion/apps/muh-money/src/components/EditTransactionForm/EditTransactionForm.tsx"],"sourcesContent":["import { Icon, useTheme } from '@rneui/themed';\nimport { View } from 'react-native';\nimport { ExpandingView } from '../ExpandingView';\nimport { Row } from '../Row';\nimport { ToggleButton } from '../ToggleButton';\nimport { TextInput } from '../Input';\nimport { Button } from '../Button';\nimport { Transaction, TransactionCategory } from '../../types/models';\nimport { useEffect, useState } from 'react';\nimport { useSharedValue, withSpring } from 'react-native-reanimated';\nimport { Selector } from '../Selector';\nimport { useCategoryStore } from '../../stores';\nimport { Text } from '../Text';\n\ninterface EditTransactionFormProps {\n  transaction: Transaction;\n  onEdit: (transaction: Transaction) => void;\n  onDelete: (uuid: string) => void;\n}\n\nexport default function EditTransactionForm({ transaction, onEdit, onDelete }: EditTransactionFormProps) {\n  const { theme: { colors: { error, black, greyOutline } } } = useTheme();\n  const [optionsIsActive, setOptionsIsActive] = useState(false);\n  const [title, setTitle] = useState(transaction.title);\n  const [amount, setAmount] = useState(transaction.amount.toString());\n  const [categoryId, setCategoryId] = useState(transaction.categoryId);\n  const { items: categories } = useCategoryStore();\n  const height = useSharedValue(10);\n\n  const onSubmit = () => {\n    const data: Transaction =\n      Object.assign(transaction, { title, amount: parseFloat(amount), categoryId });\n\n    onEdit(data);\n  }\n\n  useEffect(() => {\n    height.value = withSpring(optionsIsActive ? 30 : 10);\n  }, [optionsIsActive]);\n\n  return (\n    <ExpandingView style={{ paddingHorizontal: 10 }}>\n      <Row style={{ justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 5 }}>\n        <Text style={{ fontWeight: \"bold\", fontSize: 18 }}>Edit Transaction</Text>\n        <ToggleButton onChange={(active) => setOptionsIsActive(active)} />\n      </Row>\n\n      <TextInput\n        label={`${transaction.type} name`}\n        defaultValue={transaction.title}\n        onChangeText={setTitle}\n      />\n\n      <Selector\n        label=\"Category\"\n        defaultValue={categories.find((cat) => cat.uuid === categoryId).title}\n        options={categories.map((category) => category.title)}\n        onChange={(index) => setCategoryId(categories[index].uuid)}\n        OptionComponent={(optionTitle) => {\n          const option = categories.find((item) => item.title === optionTitle) as TransactionCategory;\n          return (\n            <Row style={{ alignItems: \"center\", gap: 10 }}>\n              <View style={{ aspectRatio: 1, borderRadius: 50, borderColor: greyOutline, borderWidth: 1, padding: 5 }}>\n                <Icon size={14} name={option.iconName} type={option.iconFamily} color={option.color} />\n              </View>\n              <Text weight='700'>{option.title}</Text>\n            </Row>\n          )\n        }}\n      />\n\n      <TextInput\n        label={`Budget Limit`}\n        keyboardType='numeric'\n        defaultValue={amount}\n        onChangeText={setAmount}\n      />\n\n      {\n        optionsIsActive && (\n          <View style={{ marginVertical: 10 }}>\n            <Button onPress={() => onDelete(transaction.uuid)} color={error}\n              titleStyle={{ color: black, opacity: 0.5, fontWeight: \"bold\" }}>Delete Transaction</Button>\n            <Text style={{ fontWeight: \"bold\", fontSize: 12, color: error, marginTop: 5 }}>\n              Warning: Deleting your transaction is irreversible\n            </Text>\n          </View>\n        )\n      }\n\n      <Button title=\"Submit\" onPress={onSubmit} />\n    </ExpandingView>\n  );\n}\n"],"mappings":";AAAA,SAASA,IAAI,EAAEC,QAAQ,QAAQ,eAAe;AAAC,OAAAC,IAAA;AAE/C,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,GAAG,QAAQ,QAAQ;AAC5B,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,SAAS,QAAQ,UAAU;AACpC,SAASC,MAAM,QAAQ,WAAW;AAElC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,EAAEC,UAAU,QAAQ,yBAAyB;AACpE,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,gBAAgB,QAAQ,cAAc;AAC/C,SAASC,IAAI,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQ/B,eAAe,SAASC,mBAAmBA,CAAC;EAAEC,WAAW;EAAEC,MAAM;EAAEC;AAAmC,CAAC,EAAE;EACvG,MAAM;IAAEC,KAAK,EAAE;MAAEC,MAAM,EAAE;QAAEC,KAAK;QAAEC,KAAK;QAAEC;MAAY;IAAE;EAAE,CAAC,GAAGxB,QAAQ,CAAC,CAAC;EACvE,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAACS,WAAW,CAACU,KAAK,CAAC;EACrD,MAAM,CAACE,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAACS,WAAW,CAACY,MAAM,CAACE,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAACS,WAAW,CAACe,UAAU,CAAC;EACpE,MAAM;IAAEE,KAAK,EAAEC;EAAW,CAAC,GAAGvB,gBAAgB,CAAC,CAAC;EAChD,MAAMwB,MAAM,GAAG3B,cAAc,CAAC,EAAE,CAAC;EAEjC,MAAM4B,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,IAAiB,GACrBC,MAAM,CAACC,MAAM,CAACvB,WAAW,EAAE;MAAEU,KAAK;MAAEE,MAAM,EAAEY,UAAU,CAACZ,MAAM,CAAC;MAAEG;IAAW,CAAC,CAAC;IAE/Ed,MAAM,CAACoB,IAAI,CAAC;EACd,CAAC;EAED/B,SAAS,CAAC,MAAM;IACd6B,MAAM,CAACM,KAAK,GAAGhC,UAAU,CAACe,eAAe,GAAG,EAAE,GAAG,EAAE,CAAC;EACtD,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErB,OACEV,OAAA,CAACb,aAAa;IAACyC,KAAK,EAAE;MAAEC,iBAAiB,EAAE;IAAG,CAAE;IAAAC,QAAA,GAC9C9B,OAAA,CAACZ,GAAG;MAACwC,KAAK,EAAE;QAAEG,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAH,QAAA,GACrF9B,OAAA,CAACF,IAAI;QAAC8B,KAAK,EAAE;UAAEM,UAAU,EAAE,MAAM;UAAEC,QAAQ,EAAE;QAAG,CAAE;QAAAL,QAAA,EAAC;MAAgB;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAC1EvC,OAAA,CAACX,YAAY;QAACmD,QAAQ,EAAGC,MAAM,IAAK9B,kBAAkB,CAAC8B,MAAM;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC,EAENvC,OAAA,CAACV,SAAS;MACRoD,KAAK,EAAE,GAAGxC,WAAW,CAACyC,IAAI,OAAQ;MAClCC,YAAY,EAAE1C,WAAW,CAACU,KAAM;MAChCiC,YAAY,EAAEhC;IAAS;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,EAEFvC,OAAA,CAACJ,QAAQ;MACP8C,KAAK,EAAC,UAAU;MAChBE,YAAY,EAAExB,UAAU,CAAC0B,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,KAAK/B,UAAU,CAAC,CAACL,KAAM;MACtEqC,OAAO,EAAE7B,UAAU,CAAC8B,GAAG,CAAEC,QAAQ,IAAKA,QAAQ,CAACvC,KAAK,CAAE;MACtD4B,QAAQ,EAAGY,KAAK,IAAKlC,aAAa,CAACE,UAAU,CAACgC,KAAK,CAAC,CAACJ,IAAI,CAAE;MAC3DK,eAAe,EAAGC,WAAW,IAAK;QAChC,MAAMC,MAAM,GAAGnC,UAAU,CAAC0B,IAAI,CAAEU,IAAI,IAAKA,IAAI,CAAC5C,KAAK,KAAK0C,WAAW,CAAwB;QAC3F,OACEtD,OAAA,CAACZ,GAAG;UAACwC,KAAK,EAAE;YAAEI,UAAU,EAAE,QAAQ;YAAEyB,GAAG,EAAE;UAAG,CAAE;UAAA3B,QAAA,GAC5C9B,OAAA,CAACd,IAAI;YAAC0C,KAAK,EAAE;cAAE8B,WAAW,EAAE,CAAC;cAAEC,YAAY,EAAE,EAAE;cAAEC,WAAW,EAAEnD,WAAW;cAAEoD,WAAW,EAAE,CAAC;cAAEC,OAAO,EAAE;YAAE,CAAE;YAAAhC,QAAA,EACtG9B,OAAA,CAAChB,IAAI;cAAC+E,IAAI,EAAE,EAAG;cAACC,IAAI,EAAET,MAAM,CAACU,QAAS;cAACtB,IAAI,EAAEY,MAAM,CAACW,UAAW;cAACC,KAAK,EAAEZ,MAAM,CAACY;YAAM;cAAA/B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC,EACPvC,OAAA,CAACF,IAAI;YAACsE,MAAM,EAAC,KAAK;YAAAtC,QAAA,EAAEyB,MAAM,CAAC3C;UAAK;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAEV;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEFvC,OAAA,CAACV,SAAS;MACRoD,KAAK,EAAE,cAAe;MACtB2B,YAAY,EAAC,SAAS;MACtBzB,YAAY,EAAE9B,MAAO;MACrB+B,YAAY,EAAE9B;IAAU;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,EAGA7B,eAAe,IACbV,OAAA,CAACd,IAAI;MAAC0C,KAAK,EAAE;QAAE0C,cAAc,EAAE;MAAG,CAAE;MAAAxC,QAAA,GAClC9B,OAAA,CAACT,MAAM;QAACgF,OAAO,EAAEA,CAAA,KAAMnE,QAAQ,CAACF,WAAW,CAAC8C,IAAI,CAAE;QAACmB,KAAK,EAAE5D,KAAM;QAC9DiE,UAAU,EAAE;UAAEL,KAAK,EAAE3D,KAAK;UAAEiE,OAAO,EAAE,GAAG;UAAEvC,UAAU,EAAE;QAAO,CAAE;QAAAJ,QAAA,EAAC;MAAkB;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAC7FvC,OAAA,CAACF,IAAI;QAAC8B,KAAK,EAAE;UAAEM,UAAU,EAAE,MAAM;UAAEC,QAAQ,EAAE,EAAE;UAAEgC,KAAK,EAAE5D,KAAK;UAAEmE,SAAS,EAAE;QAAE,CAAE;QAAA5C,QAAA,EAAC;MAE/E;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACP,EAGHvC,OAAA,CAACT,MAAM;MAACqB,KAAK,EAAC,QAAQ;MAAC2D,OAAO,EAAEjD;IAAS;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC/B,CAAC;AAEpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}