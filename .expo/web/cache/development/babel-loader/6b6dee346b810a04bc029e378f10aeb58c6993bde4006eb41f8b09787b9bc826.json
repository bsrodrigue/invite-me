{"ast":null,"code":"import TextInputState from '../../../../../Libraries/Components/TextInput/TextInputState';\nimport { getFabricUIManager } from '../../../../../Libraries/ReactNative/FabricUIManager';\nimport { create as createAttributePayload } from '../../../../../Libraries/ReactNative/ReactFabricPublicInstance/ReactNativeAttributePayload';\nimport warnForStyleProps from '../../../../../Libraries/ReactNative/ReactFabricPublicInstance/warnForStyleProps';\nimport ReadOnlyElement, { getBoundingClientRect } from './ReadOnlyElement';\nimport ReadOnlyNode from './ReadOnlyNode';\nimport { getPublicInstanceFromInternalInstanceHandle, getShadowNode } from './ReadOnlyNode';\nimport nullthrows from 'nullthrows';\nconst noop = () => {};\nexport default class ReactNativeElement extends ReadOnlyElement {\n  constructor(tag, viewConfig, internalInstanceHandle) {\n    super(internalInstanceHandle);\n    this.__nativeTag = tag;\n    this.__internalInstanceHandle = internalInstanceHandle;\n    this._viewConfig = viewConfig;\n  }\n  get offsetHeight() {\n    return Math.round(getBoundingClientRect(this, {\n      includeTransform: false\n    }).height);\n  }\n  get offsetLeft() {\n    const node = getShadowNode(this);\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      if (offset != null) {\n        return Math.round(offset[2]);\n      }\n    }\n    return 0;\n  }\n  get offsetParent() {\n    const node = getShadowNode(this);\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      if (offset != null && offset[0] != null) {\n        const offsetParentInstanceHandle = offset[0];\n        const offsetParent = getPublicInstanceFromInternalInstanceHandle(offsetParentInstanceHandle);\n        const offsetParentElement = offsetParent;\n        return offsetParentElement;\n      }\n    }\n    return null;\n  }\n  get offsetTop() {\n    const node = getShadowNode(this);\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      if (offset != null) {\n        return Math.round(offset[1]);\n      }\n    }\n    return 0;\n  }\n  get offsetWidth() {\n    return Math.round(getBoundingClientRect(this, {\n      includeTransform: false\n    }).width);\n  }\n  blur() {\n    TextInputState.blurTextInput(this);\n  }\n  focus() {\n    TextInputState.focusTextInput(this);\n  }\n  measure(callback) {\n    const node = getShadowNode(this);\n    if (node != null) {\n      nullthrows(getFabricUIManager()).measure(node, callback);\n    }\n  }\n  measureInWindow(callback) {\n    const node = getShadowNode(this);\n    if (node != null) {\n      nullthrows(getFabricUIManager()).measureInWindow(node, callback);\n    }\n  }\n  measureLayout(relativeToNativeNode, onSuccess, onFail) {\n    if (!(relativeToNativeNode instanceof ReadOnlyNode)) {\n      if (__DEV__) {\n        console.error('Warning: ref.measureLayout must be called with a ref to a native component.');\n      }\n      return;\n    }\n    const toStateNode = getShadowNode(this);\n    const fromStateNode = getShadowNode(relativeToNativeNode);\n    if (toStateNode != null && fromStateNode != null) {\n      nullthrows(getFabricUIManager()).measureLayout(toStateNode, fromStateNode, onFail != null ? onFail : noop, onSuccess != null ? onSuccess : noop);\n    }\n  }\n  setNativeProps(nativeProps) {\n    if (__DEV__) {\n      warnForStyleProps(nativeProps, this._viewConfig.validAttributes);\n    }\n    const updatePayload = createAttributePayload(nativeProps, this._viewConfig.validAttributes);\n    const node = getShadowNode(this);\n    if (node != null && updatePayload != null) {\n      nullthrows(getFabricUIManager()).setNativeProps(node, updatePayload);\n    }\n  }\n}","map":{"version":3,"names":["TextInputState","getFabricUIManager","create","createAttributePayload","warnForStyleProps","ReadOnlyElement","getBoundingClientRect","ReadOnlyNode","getPublicInstanceFromInternalInstanceHandle","getShadowNode","nullthrows","noop","ReactNativeElement","constructor","tag","viewConfig","internalInstanceHandle","__nativeTag","__internalInstanceHandle","_viewConfig","offsetHeight","Math","round","includeTransform","height","offsetLeft","node","offset","getOffset","offsetParent","offsetParentInstanceHandle","offsetParentElement","offsetTop","offsetWidth","width","blur","blurTextInput","focus","focusTextInput","measure","callback","measureInWindow","measureLayout","relativeToNativeNode","onSuccess","onFail","__DEV__","console","error","toStateNode","fromStateNode","setNativeProps","nativeProps","validAttributes","updatePayload"],"sources":["/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native/src/private/webapis/dom/nodes/ReactNativeElement.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\n// flowlint unsafe-getters-setters:off\n\nimport type {\n  HostComponent,\n  INativeMethods,\n  InternalInstanceHandle,\n  MeasureInWindowOnSuccessCallback,\n  MeasureLayoutOnSuccessCallback,\n  MeasureOnSuccessCallback,\n  ViewConfig,\n} from '../../../../../Libraries/Renderer/shims/ReactNativeTypes';\nimport type {ElementRef} from 'react';\n\nimport TextInputState from '../../../../../Libraries/Components/TextInput/TextInputState';\nimport {getFabricUIManager} from '../../../../../Libraries/ReactNative/FabricUIManager';\nimport {create as createAttributePayload} from '../../../../../Libraries/ReactNative/ReactFabricPublicInstance/ReactNativeAttributePayload';\nimport warnForStyleProps from '../../../../../Libraries/ReactNative/ReactFabricPublicInstance/warnForStyleProps';\nimport ReadOnlyElement, {getBoundingClientRect} from './ReadOnlyElement';\nimport ReadOnlyNode from './ReadOnlyNode';\nimport {\n  getPublicInstanceFromInternalInstanceHandle,\n  getShadowNode,\n} from './ReadOnlyNode';\nimport nullthrows from 'nullthrows';\n\nconst noop = () => {};\n\nexport default class ReactNativeElement\n  extends ReadOnlyElement\n  implements INativeMethods\n{\n  // These need to be accessible from `ReactFabricPublicInstanceUtils`.\n  __nativeTag: number;\n  __internalInstanceHandle: InternalInstanceHandle;\n\n  _viewConfig: ViewConfig;\n\n  constructor(\n    tag: number,\n    viewConfig: ViewConfig,\n    internalInstanceHandle: InternalInstanceHandle,\n  ) {\n    super(internalInstanceHandle);\n\n    this.__nativeTag = tag;\n    this.__internalInstanceHandle = internalInstanceHandle;\n    this._viewConfig = viewConfig;\n  }\n\n  get offsetHeight(): number {\n    return Math.round(\n      getBoundingClientRect(this, {includeTransform: false}).height,\n    );\n  }\n\n  get offsetLeft(): number {\n    const node = getShadowNode(this);\n\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      if (offset != null) {\n        return Math.round(offset[2]);\n      }\n    }\n\n    return 0;\n  }\n\n  get offsetParent(): ReadOnlyElement | null {\n    const node = getShadowNode(this);\n\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      // For children of the root node we currently return offset data\n      // but a `null` parent because the root node is not accessible\n      // in JavaScript yet.\n      if (offset != null && offset[0] != null) {\n        const offsetParentInstanceHandle = offset[0];\n        const offsetParent = getPublicInstanceFromInternalInstanceHandle(\n          offsetParentInstanceHandle,\n        );\n        // $FlowExpectedError[incompatible-type] The value returned by `getOffset` is always an instance handle for `ReadOnlyElement`.\n        const offsetParentElement: ReadOnlyElement | null = offsetParent;\n        return offsetParentElement;\n      }\n    }\n\n    return null;\n  }\n\n  get offsetTop(): number {\n    const node = getShadowNode(this);\n\n    if (node != null) {\n      const offset = nullthrows(getFabricUIManager()).getOffset(node);\n      if (offset != null) {\n        return Math.round(offset[1]);\n      }\n    }\n\n    return 0;\n  }\n\n  get offsetWidth(): number {\n    return Math.round(\n      getBoundingClientRect(this, {includeTransform: false}).width,\n    );\n  }\n\n  /**\n   * React Native compatibility methods\n   */\n\n  blur(): void {\n    // $FlowFixMe[incompatible-exact] Migrate all usages of `NativeMethods` to an interface to fix this.\n    TextInputState.blurTextInput(this);\n  }\n\n  focus() {\n    // $FlowFixMe[incompatible-exact] Migrate all usages of `NativeMethods` to an interface to fix this.\n    TextInputState.focusTextInput(this);\n  }\n\n  measure(callback: MeasureOnSuccessCallback) {\n    const node = getShadowNode(this);\n    if (node != null) {\n      nullthrows(getFabricUIManager()).measure(node, callback);\n    }\n  }\n\n  measureInWindow(callback: MeasureInWindowOnSuccessCallback) {\n    const node = getShadowNode(this);\n    if (node != null) {\n      nullthrows(getFabricUIManager()).measureInWindow(node, callback);\n    }\n  }\n\n  measureLayout(\n    relativeToNativeNode: number | ElementRef<HostComponent<mixed>>,\n    onSuccess: MeasureLayoutOnSuccessCallback,\n    onFail?: () => void /* currently unused */,\n  ) {\n    if (!(relativeToNativeNode instanceof ReadOnlyNode)) {\n      if (__DEV__) {\n        console.error(\n          'Warning: ref.measureLayout must be called with a ref to a native component.',\n        );\n      }\n\n      return;\n    }\n\n    const toStateNode = getShadowNode(this);\n    const fromStateNode = getShadowNode(relativeToNativeNode);\n\n    if (toStateNode != null && fromStateNode != null) {\n      nullthrows(getFabricUIManager()).measureLayout(\n        toStateNode,\n        fromStateNode,\n        onFail != null ? onFail : noop,\n        onSuccess != null ? onSuccess : noop,\n      );\n    }\n  }\n\n  setNativeProps(nativeProps: {...}): void {\n    if (__DEV__) {\n      warnForStyleProps(nativeProps, this._viewConfig.validAttributes);\n    }\n\n    const updatePayload = createAttributePayload(\n      nativeProps,\n      this._viewConfig.validAttributes,\n    );\n\n    const node = getShadowNode(this);\n\n    if (node != null && updatePayload != null) {\n      nullthrows(getFabricUIManager()).setNativeProps(node, updatePayload);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}