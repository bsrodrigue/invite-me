{"ast":null,"code":"import NativeReactNativeFeatureFlags from './NativeReactNativeFeatureFlags';\nconst accessedFeatureFlags = new Set();\nlet overrides;\nfunction createGetter(configName, customValueGetter, defaultValue) {\n  let cachedValue;\n  return () => {\n    if (cachedValue == null) {\n      accessedFeatureFlags.add(configName);\n      cachedValue = customValueGetter() ?? defaultValue;\n    }\n    return cachedValue;\n  };\n}\nexport function createJavaScriptFlagGetter(configName, defaultValue) {\n  return createGetter(configName, () => overrides?.[configName]?.(), defaultValue);\n}\nexport function createNativeFlagGetter(configName, defaultValue) {\n  return createGetter(configName, () => NativeReactNativeFeatureFlags?.[configName]?.(), defaultValue);\n}\nexport function getOverrides() {\n  return overrides;\n}\nexport function setOverrides(newOverrides) {\n  if (overrides != null) {\n    throw new Error('Feature flags cannot be overridden more than once');\n  }\n  if (accessedFeatureFlags.size > 0) {\n    const accessedFeatureFlagsStr = Array.from(accessedFeatureFlags).join(', ');\n    throw new Error(`Feature flags were accessed before being overridden: ${accessedFeatureFlagsStr}`);\n  }\n  overrides = newOverrides;\n}","map":{"version":3,"names":["NativeReactNativeFeatureFlags","accessedFeatureFlags","Set","overrides","createGetter","configName","customValueGetter","defaultValue","cachedValue","add","createJavaScriptFlagGetter","createNativeFlagGetter","getOverrides","setOverrides","newOverrides","Error","size","accessedFeatureFlagsStr","Array","from","join"],"sources":["/home/rodo/workspace/passion/apps/muh-money/node_modules/react-native/src/private/featureflags/ReactNativeFeatureFlagsBase.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport type {\n  ReactNativeFeatureFlagsJsOnly,\n  ReactNativeFeatureFlagsJsOnlyOverrides,\n} from './ReactNativeFeatureFlags';\n\nimport NativeReactNativeFeatureFlags from './NativeReactNativeFeatureFlags';\n\nconst accessedFeatureFlags: Set<string> = new Set();\nlet overrides: ?ReactNativeFeatureFlagsJsOnlyOverrides;\n\nexport type Getter<T> = () => T;\n\nfunction createGetter<T: boolean | number | string>(\n  configName: string,\n  customValueGetter: Getter<?T>,\n  defaultValue: T,\n): Getter<T> {\n  let cachedValue: ?T;\n\n  return () => {\n    if (cachedValue == null) {\n      accessedFeatureFlags.add(configName);\n      cachedValue = customValueGetter() ?? defaultValue;\n    }\n    return cachedValue;\n  };\n}\n\nexport function createJavaScriptFlagGetter<\n  K: $Keys<ReactNativeFeatureFlagsJsOnly>,\n>(\n  configName: K,\n  defaultValue: ReturnType<ReactNativeFeatureFlagsJsOnly[K]>,\n): Getter<ReturnType<ReactNativeFeatureFlagsJsOnly[K]>> {\n  return createGetter(\n    configName,\n    () => overrides?.[configName]?.(),\n    defaultValue,\n  );\n}\n\ntype NativeFeatureFlags = $NonMaybeType<typeof NativeReactNativeFeatureFlags>;\n\nexport function createNativeFlagGetter<K: $Keys<NativeFeatureFlags>>(\n  configName: K,\n  defaultValue: ReturnType<$NonMaybeType<NativeFeatureFlags[K]>>,\n): Getter<ReturnType<$NonMaybeType<NativeFeatureFlags[K]>>> {\n  return createGetter(\n    configName,\n    () => NativeReactNativeFeatureFlags?.[configName]?.(),\n    defaultValue,\n  );\n}\n\nexport function getOverrides(): ?ReactNativeFeatureFlagsJsOnlyOverrides {\n  return overrides;\n}\n\nexport function setOverrides(\n  newOverrides: ReactNativeFeatureFlagsJsOnlyOverrides,\n): void {\n  if (overrides != null) {\n    throw new Error('Feature flags cannot be overridden more than once');\n  }\n\n  if (accessedFeatureFlags.size > 0) {\n    const accessedFeatureFlagsStr = Array.from(accessedFeatureFlags).join(', ');\n    throw new Error(\n      `Feature flags were accessed before being overridden: ${accessedFeatureFlagsStr}`,\n    );\n  }\n\n  overrides = newOverrides;\n}\n"],"mappings":"AAeA,OAAOA,6BAA6B,MAAM,iCAAiC;AAE3E,MAAMC,oBAAiC,GAAG,IAAIC,GAAG,CAAC,CAAC;AACnD,IAAIC,SAAkD;AAItD,SAASC,YAAYA,CACnBC,UAAkB,EAClBC,iBAA6B,EAC7BC,YAAe,EACJ;EACX,IAAIC,WAAe;EAEnB,OAAO,MAAM;IACX,IAAIA,WAAW,IAAI,IAAI,EAAE;MACvBP,oBAAoB,CAACQ,GAAG,CAACJ,UAAU,CAAC;MACpCG,WAAW,GAAGF,iBAAiB,CAAC,CAAC,IAAIC,YAAY;IACnD;IACA,OAAOC,WAAW;EACpB,CAAC;AACH;AAEA,OAAO,SAASE,0BAA0BA,CAGxCL,UAAa,EACbE,YAA0D,EACJ;EACtD,OAAOH,YAAY,CACjBC,UAAU,EACV,MAAMF,SAAS,GAAGE,UAAU,CAAC,GAAG,CAAC,EACjCE,YACF,CAAC;AACH;AAIA,OAAO,SAASI,sBAAsBA,CACpCN,UAAa,EACbE,YAA8D,EACJ;EAC1D,OAAOH,YAAY,CACjBC,UAAU,EACV,MAAML,6BAA6B,GAAGK,UAAU,CAAC,GAAG,CAAC,EACrDE,YACF,CAAC;AACH;AAEA,OAAO,SAASK,YAAYA,CAAA,EAA4C;EACtE,OAAOT,SAAS;AAClB;AAEA,OAAO,SAASU,YAAYA,CAC1BC,YAAoD,EAC9C;EACN,IAAIX,SAAS,IAAI,IAAI,EAAE;IACrB,MAAM,IAAIY,KAAK,CAAC,mDAAmD,CAAC;EACtE;EAEA,IAAId,oBAAoB,CAACe,IAAI,GAAG,CAAC,EAAE;IACjC,MAAMC,uBAAuB,GAAGC,KAAK,CAACC,IAAI,CAAClB,oBAAoB,CAAC,CAACmB,IAAI,CAAC,IAAI,CAAC;IAC3E,MAAM,IAAIL,KAAK,CACb,wDAAwDE,uBAAuB,EACjF,CAAC;EACH;EAEAd,SAAS,GAAGW,YAAY;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}